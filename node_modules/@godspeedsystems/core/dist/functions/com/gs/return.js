"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, /*
* You are allowed to study this software for learning and local * development purposes only. Any other use without explicit permission by Mindgrep, is prohibited.
* Â© 2022 Mindgrep Technologies Pvt Ltd
*/ "default", {
    enumerable: true,
    get: function() {
        return _default;
    }
});
const _transform = /*#__PURE__*/ _interop_require_default(require("./transform"));
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function _default(ctx, args) {
    var _ctx_config_defaults;
    // We support deprecated v1 way of com.gs.return which was different in behavior with com.gs.transform
    // So check if we have to support deprecated logic of return or the v2 logic of return
    const v2Logic = !((_ctx_config_defaults = ctx.config.defaults) === null || _ctx_config_defaults === void 0 ? void 0 : _ctx_config_defaults.returnV1Compatible);
    if (v2Logic) {
        const transformRes = (0, _transform.default)(ctx, args);
        transformRes.exitWithStatus = true;
        return transformRes;
    } else {
        return {
            success: true,
            code: 200,
            data: args,
            exitWithStatus: true
        };
    }
}
